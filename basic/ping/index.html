<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.32.2" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Ping命令 :: Engine GO</title>
    
    
    <link href="/css/nucleus.css?1520341952" rel="stylesheet">
    <link href="/css/font-awesome.min.css?1520341952" rel="stylesheet">
    <link href="/css/hybrid.css?1520341952" rel="stylesheet">
    <link href="/css/featherlight.min.css?1520341952" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1520341952" rel="stylesheet">
    <link href="/css/auto-complete.css?1520341952" rel="stylesheet">
    <link href="/css/theme.css?1520341952" rel="stylesheet">
    <link href="/css/hugo-theme.css?1520341952" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1520341952" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1520341952"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/basic/ping/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://www.enginego.org"><span style="font-size: 2rem;">Engine Go</span></a>


    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1520341952"></script>
<script type="text/javascript" src="/js/auto-complete.js?1520341952"></script>
<script type="text/javascript">
    
        
        var baseurl = "https://www.enginego.org";
    
</script>
<script type="text/javascript" src="/js/search.js?1520341952"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/basic/" title="basics" class="dd-item 
        parent
        
        
        ">
      <a href="/basic/">
          basics
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/basic/ping/" title="Ping命令" class="dd-item active">
        <a href="/basic/ping/">
        Ping命令
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E5%85%AC%E7%A7%81%E9%92%A5/" title="公私钥" class="dd-item ">
        <a href="/basic/%E5%85%AC%E7%A7%81%E9%92%A5/">
        公私钥
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E5%AD%A6%E4%BB%80%E4%B9%88%E8%AF%AD%E8%A8%80/" title="学什么语言" class="dd-item ">
        <a href="/basic/%E5%AD%A6%E4%BB%80%E4%B9%88%E8%AF%AD%E8%A8%80/">
        学什么语言
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/dns%E6%9F%A5%E8%AF%A2/" title="DNS查询" class="dd-item ">
        <a href="/basic/dns%E6%9F%A5%E8%AF%A2/">
        DNS查询
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E5%8D%8F%E8%AE%AE/" title="协议" class="dd-item ">
        <a href="/basic/%E5%8D%8F%E8%AE%AE/">
        协议
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E5%9F%9F%E5%90%8D/" title="域名" class="dd-item ">
        <a href="/basic/%E5%9F%9F%E5%90%8D/">
        域名
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E6%9C%8D%E5%8A%A1%E7%AB%AF/" title="基础术语" class="dd-item ">
        <a href="/basic/%E6%9C%8D%E5%8A%A1%E7%AB%AF/">
        基础术语
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BC%96%E7%A0%81/" title="字符串编码" class="dd-item ">
        <a href="/basic/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BC%96%E7%A0%81/">
        字符串编码
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E8%B7%AF%E5%BE%84/" title="相对路径，绝对路径" class="dd-item ">
        <a href="/basic/%E8%B7%AF%E5%BE%84/">
        相对路径，绝对路径
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E7%BB%88%E7%AB%AF/" title="终端，命令行, shell" class="dd-item ">
        <a href="/basic/%E7%BB%88%E7%AB%AF/">
        终端，命令行, shell
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E5%86%85%E5%AD%98/" title="" class="dd-item ">
        <a href="/basic/%E5%86%85%E5%AD%98/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E5%89%8D%E7%AB%AFor%E5%90%8E%E7%AB%AF/" title="" class="dd-item ">
        <a href="/basic/%E5%89%8D%E7%AB%AFor%E5%90%8E%E7%AB%AF/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E5%A0%86%E6%A0%88/" title="" class="dd-item ">
        <a href="/basic/%E5%A0%86%E6%A0%88/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E5%B5%8C%E5%A5%97%E5%AD%97/" title="" class="dd-item ">
        <a href="/basic/%E5%B5%8C%E5%A5%97%E5%AD%97/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E6%8A%93%E5%8C%85/" title="" class="dd-item ">
        <a href="/basic/%E6%8A%93%E5%8C%85/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="" class="dd-item ">
        <a href="/basic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" title="" class="dd-item ">
        <a href="/basic/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/basic/%E8%BF%9B%E7%A8%8B/" title="" class="dd-item ">
        <a href="/basic/%E8%BF%9B%E7%A8%8B/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/dockers/" title="dockers" class="dd-item 
        
        
        
        ">
      <a href="/dockers/">
          dockers
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/dockers/windows%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85docker%E6%95%99%E7%A8%8B/" title="Windows安装Docker教程" class="dd-item ">
        <a href="/dockers/windows%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85docker%E6%95%99%E7%A8%8B/">
        Windows安装Docker教程
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/dockers/macos%E5%AE%89%E8%A3%85docker%E6%95%99%E7%A8%8B/" title="macOS系统安装docker教程" class="dd-item ">
        <a href="/dockers/macos%E5%AE%89%E8%A3%85docker%E6%95%99%E7%A8%8B/">
        macOS系统安装docker教程
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>basics</a> > <a href='/basic/'>basics</a> > Ping命令
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#网络诊断">网络诊断</a></li>
<li><a href="#ping指令是如何运行的">ping指令是如何运行的</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Ping命令</h1>
          

        




<p>有时候当我们无法上网，会计算机的朋友会说，你ping一下网关，或者你ping一个网站看看。ping这个命令，其实是操作系统的命令之一，你在终端中输入ping加上域名／网关地址</p>

<pre><code>ping www.enginggo.org
</code></pre>

<p>如果返回：</p>

<pre><code>64 bytes from 104.24.121.11: icmp_seq=0 ttl=54 time=170.383 ms
64 bytes from 104.24.121.11: icmp_seq=1 ttl=54 time=170.053 ms
64 bytes from 104.24.121.11: icmp_seq=2 ttl=54 time=171.298 ms
64 bytes from 104.24.121.11: icmp_seq=3 ttl=54 time=170.352 ms
64 bytes from 104.24.121.11: icmp_seq=4 ttl=54 time=170.636 ms
...
</code></pre>

<blockquote>
<p>从我的计算机发送64个字节的数据到104.24.121.11（这个是经过[DNS解析]()后的www.enginego.org的ip地址，从发送到接受对方返回总共经过了170.xxx毫秒。代表www.enginego.org对应的那台服务器是开启并且响应ping指令的。</p>
</blockquote>

<p>如果返回：</p>

<pre><code>PING www.enginego.org (104.24.121.11): 56 data bytes 
Request timeout for icmp_seq 0
Request timeout for icmp_seq 1
Request timeout for icmp_seq 2
Request timeout for icmp_seq 3
</code></pre>

<blockquote>
<p>这就代表连接超时，访问失败。原因有可能是本地计算机网络问题，也有可能是对应的服务器关闭或者不响应ping指令。</p>
</blockquote>

<h4 id="网络诊断">网络诊断</h4>

<p>当我们要连接互联网的时候，无论使用手机还是计算机，一般都要经过网关（路由器或者交换机），网关接受到请求包的时候然后经过NAT转换再连接到互联网。通常的网络诊断流程。</p>

<ol>
<li><p>确认计算机到路由器的连接是否正常</p>

<pre><code>ping 路由器/交换机地址
</code></pre></li>
</ol>

<p>超时代表：</p>

<pre><code>    网线没有连接好
    IP地址冲突
</code></pre>

<ol>
<li><p>确认路由器到互联网的连接是否正常</p>

<pre><code>ping 网站地址
</code></pre></li>
</ol>

<p>超时代表：</p>

<pre><code>    路由器设置出错
    DNS解析出错
    服务器关闭或者不响应ping指令
</code></pre>

<h4 id="ping指令是如何运行的">ping指令是如何运行的</h4>

<p>因为计算机传输的都是二进制数字，因为方便显示转换成十六进制，ping请求传输的其实是：</p>

<pre><code>0000   b0 7f b9 a3 68 36 98 e0 d9 9d a3 8f 08 00 45 00
0010   00 54 62 21 00 00 40 01 76 64 c0 a8 01 58 68 18 
0020   78 0b 08 00 03 7e 3f 53 00 00 5a 9d 5d 71 00 03
0030   12 1a 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15
0040   16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25
0050   26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35
0060   36 37                                          
</code></pre>

<p>像在<a href="../协议.md">协议</a>里面提到的，传输的内容都是按照事先约定的规则，上面传输的内容其实就是</p>

<p>![]()</p>

<p>数据里面指定了版本，发送请求的IP地址，接受请求的地址等等，如果大家对wireshark有了解，可以尝试打开wireshark之后再执行ping指令，可以看到数据对应的协议规则。这个是非常好的对数据流的一种了解的方式，只是从理论上去背诵远远不够。</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/basic/" title="basics"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/basic/%E5%85%AC%E7%A7%81%E9%92%A5/" title="公私钥" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1520341952"></script>
    <script src="/js/perfect-scrollbar.min.js?1520341952"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1520341952"></script>
    <script src="/js/jquery.sticky.js?1520341952"></script>
    <script src="/js/featherlight.min.js?1520341952"></script>
    <script src="/js/html5shiv-printshiv.min.js?1520341952"></script>
    <script src="/js/highlight.pack.js?1520341952"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1520341952"></script>
    <script src="/js/learn.js?1520341952"></script>
    <script src="/js/hugo-learn.js?1520341952"></script>

    <link href="/mermaid/mermaid.css?1520341952" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1520341952"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

